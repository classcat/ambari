

### 準備

// 共通

apt-get update
apt-get -y upgrade
sync && reboot


// Ambari サーバ

apt-get insatll -y ntp git

git clone https://github.com/classcat/ambari.git

jdk8

再接続 (or 再ログイン)


// クラスタ

apt-get insatll -y ntp git

git clone https://github.com/classcat/ambari.git

jdk8

再接続 (or 再ログイン)


// java 設定

# update-alternatives --install "/usr/bin/java" "java" "/usr/lib/jvm/jdk1.8.0_05/bin/java" 1
# update-alternatives --install "/usr/bin/javac" "javac" "/usr/lib/jvm/jdk1.8.0_05/bin/javac" 1
# update-alternatives --install "/usr/bin/javaws" "javaws" "/usr/lib/jvm/jdk1.8.0_05/bin/javaws" 1

# update-alternatives --config java
# update-alternatives --config javac
# update-alternatives --config javaws

There is only one alternative in link group java (providing /usr/bin/java): /usr/lib/jvm/jdk1.8.0_05/bin/java
Nothing to configure.

/etc/profile.d/jdk.sh は削除


###
### ポート
###

// ambari-server

8080

cluster node とは tcp だけでなく、icmp, udp も必要

// cluster

cluster 間を通す


###
### AMBARI サーバ
###

1) install script

2) 接続

# ambari-server setup

custom jdk 

/usr/lib/jvm/jdk1.8.0_05


# ambari-server start


3) web ui

http://(host):8080/

admin/admin


3) ssh key 

# ssh-keygen -t rsa -P ""

id_rsa.pub を クラスタ上のノードに authoried_keys としてコピーして
ssh で接続確認





###
### クラスタ
###

ambari インストール後、


1) cassandra

2) presto

id をどうするか

3) SPARK

library の置き換え？


